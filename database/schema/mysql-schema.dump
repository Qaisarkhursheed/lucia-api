/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;
DROP TABLE IF EXISTS `account_status`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `account_status` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `description` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_account_status_unique` (`description`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `advisor_assigned_copilot`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `advisor_assigned_copilot` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `advisor_request_id` bigint unsigned NOT NULL,
  `copilot_id` bigint unsigned NOT NULL,
  `created_at` timestamp NOT NULL,
  `updated_at` timestamp NOT NULL,
  `is_paid` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_advisor_assigned_copilot_pilot` (`advisor_request_id`),
  KEY `fk_advisor_assigned_copilot__id` (`copilot_id`),
  CONSTRAINT `fk_advisor_assigned_copilot__id` FOREIGN KEY (`copilot_id`) REFERENCES `users` (`id`),
  CONSTRAINT `fk_advisor_assigned_copilot_request_id` FOREIGN KEY (`advisor_request_id`) REFERENCES `advisor_request` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `advisor_chat`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `advisor_chat` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `chat_content_type_id` bigint unsigned NOT NULL,
  `advisor_request_id` bigint unsigned NOT NULL,
  `sender_id` bigint unsigned NOT NULL,
  `receiver_id` bigint unsigned NOT NULL,
  `plain_text` text COLLATE utf8mb4_unicode_ci NOT NULL,
  `document_relative_url` varchar(300) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `seen` tinyint(1) NOT NULL,
  `created_at` timestamp NOT NULL,
  `updated_at` timestamp NOT NULL,
  `notified` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  KEY `fk_advisor_chat_chat_advisor_request_id` (`advisor_request_id`),
  KEY `fk_advisor_chat_content_type_id` (`chat_content_type_id`),
  KEY `fk_advisor_chat_sender_id` (`sender_id`),
  KEY `fk_advisor_chat_receiver_id` (`receiver_id`),
  CONSTRAINT `fk_advisor_chat_chat_advisor_request_id` FOREIGN KEY (`advisor_request_id`) REFERENCES `advisor_request` (`id`) ON DELETE CASCADE,
  CONSTRAINT `fk_advisor_chat_content_type_id` FOREIGN KEY (`chat_content_type_id`) REFERENCES `chat_content_type` (`id`),
  CONSTRAINT `fk_advisor_chat_receiver_id` FOREIGN KEY (`receiver_id`) REFERENCES `users` (`id`),
  CONSTRAINT `fk_advisor_chat_sender_id` FOREIGN KEY (`sender_id`) REFERENCES `users` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `advisor_request`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `advisor_request` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `deadline` datetime DEFAULT NULL,
  `itinerary_id` bigint unsigned DEFAULT NULL,
  `advisor_request_status_id` bigint unsigned NOT NULL,
  `notes` text COLLATE utf8mb4_unicode_ci,
  `created_at` timestamp NOT NULL,
  `updated_at` timestamp NOT NULL,
  `created_by_id` bigint unsigned NOT NULL DEFAULT '1',
  `request_title` varchar(300) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `sub_amount` decimal(15,2) NOT NULL DEFAULT '0.00',
  `fee_amount` decimal(15,2) NOT NULL DEFAULT '0.00',
  `total_amount` decimal(15,2) NOT NULL DEFAULT '0.00',
  PRIMARY KEY (`id`),
  KEY `fk_advisor_request_status_id` (`advisor_request_status_id`),
  KEY `fk_advisor_request_itinerary_id` (`itinerary_id`),
  KEY `fk_advisor_request_created_by_id` (`created_by_id`),
  CONSTRAINT `fk_advisor_request_created_by_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`),
  CONSTRAINT `fk_advisor_request_itinerary_id` FOREIGN KEY (`itinerary_id`) REFERENCES `itinerary` (`id`),
  CONSTRAINT `fk_advisor_request_status_id` FOREIGN KEY (`advisor_request_status_id`) REFERENCES `advisor_request_status` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `advisor_request_activity`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `advisor_request_activity` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `details` varchar(500) COLLATE utf8mb4_unicode_ci NOT NULL,
  `advisor_request_id` bigint unsigned NOT NULL,
  `created_at` timestamp NOT NULL,
  `updated_at` timestamp NOT NULL,
  PRIMARY KEY (`id`),
  KEY `fk_advisor_request_activity_request_id` (`advisor_request_id`),
  CONSTRAINT `fk_advisor_request_activity_request_id` FOREIGN KEY (`advisor_request_id`) REFERENCES `advisor_request` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `advisor_request_attachment`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `advisor_request_attachment` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `document_relative_url` varchar(300) COLLATE utf8mb4_unicode_ci NOT NULL,
  `advisor_request_id` bigint unsigned NOT NULL,
  `created_at` timestamp NOT NULL,
  `updated_at` timestamp NOT NULL,
  `name` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_advisor_request_attachment_name` (`advisor_request_id`,`document_relative_url`),
  CONSTRAINT `fk_advisor_request_attachment_request_id` FOREIGN KEY (`advisor_request_id`) REFERENCES `advisor_request` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `advisor_request_feedback`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `advisor_request_feedback` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `average_rating` decimal(5,2) NOT NULL,
  `advisor_request_id` bigint unsigned NOT NULL,
  `created_at` timestamp NOT NULL,
  `updated_at` timestamp NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_advisor_request_feedback_` (`advisor_request_id`),
  CONSTRAINT `fk_advisor_request_feedback_request_id` FOREIGN KEY (`advisor_request_id`) REFERENCES `advisor_request` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `advisor_request_feedback_rating`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `advisor_request_feedback_rating` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `rating` decimal(5,2) NOT NULL,
  `advisor_request_feedback_id` bigint unsigned NOT NULL,
  `feedback_topic_id` bigint unsigned NOT NULL,
  `created_at` timestamp NOT NULL,
  `updated_at` timestamp NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_advisor_request_feedback_rating` (`advisor_request_feedback_id`,`feedback_topic_id`),
  KEY `fk_advisor_request_feedback_rating_topic_id` (`feedback_topic_id`),
  CONSTRAINT `fk_advisor_request_feedback_rating__id` FOREIGN KEY (`advisor_request_feedback_id`) REFERENCES `advisor_request_feedback` (`id`) ON DELETE CASCADE,
  CONSTRAINT `fk_advisor_request_feedback_rating_topic_id` FOREIGN KEY (`feedback_topic_id`) REFERENCES `feedback_topic` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `advisor_request_payment`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `advisor_request_payment` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `advisor_request_id` bigint unsigned NOT NULL,
  `stripe_payment_info` json DEFAULT NULL,
  `amount` decimal(10,2) NOT NULL DEFAULT '0.00',
  `stripe_payment_intent_id` bigint unsigned DEFAULT NULL,
  `stripe_charge_id` varchar(150) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `stripe_refund_id` varchar(150) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `created_at` timestamp NOT NULL,
  `updated_at` timestamp NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_advisor_request_payment` (`advisor_request_id`),
  KEY `fk_advisor_request_payment_intent_id` (`stripe_payment_intent_id`),
  CONSTRAINT `fk_advisor_request_payment_intent_id` FOREIGN KEY (`stripe_payment_intent_id`) REFERENCES `stripe_payment_intent` (`id`),
  CONSTRAINT `fk_advisor_request_payment_request_id` FOREIGN KEY (`advisor_request_id`) REFERENCES `advisor_request` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `advisor_request_status`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `advisor_request_status` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `description` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_advisor_request_status_unique` (`description`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `advisor_request_task`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `advisor_request_task` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `explanation` varchar(500) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `advisor_request_type_id` bigint unsigned NOT NULL,
  `advisor_request_id` bigint unsigned NOT NULL,
  `completed` tinyint(1) NOT NULL DEFAULT '0',
  `created_at` timestamp NOT NULL,
  `updated_at` timestamp NOT NULL,
  `amount` decimal(8,2) NOT NULL DEFAULT '0.00',
  PRIMARY KEY (`id`),
  KEY `fk_advisor_request_task_request_id` (`advisor_request_id`),
  KEY `fk_advisor_request_task_type_id` (`advisor_request_type_id`),
  CONSTRAINT `fk_advisor_request_task_request_id` FOREIGN KEY (`advisor_request_id`) REFERENCES `advisor_request` (`id`) ON DELETE CASCADE,
  CONSTRAINT `fk_advisor_request_task_type_id` FOREIGN KEY (`advisor_request_type_id`) REFERENCES `advisor_request_type` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `advisor_request_type`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `advisor_request_type` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `amount` decimal(10,2) NOT NULL DEFAULT '0.00',
  `description` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL,
  `copilot_remarks` varchar(1000) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `explanation` varchar(800) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `is_active` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_advisor_request_type_unique` (`description`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `agency_usage_mode`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `agency_usage_mode` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `description` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL,
  `notes` varchar(500) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_agency_usage_mode_unique` (`description`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `airlines`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `airlines` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `iata` varchar(2) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `icao` varchar(3) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `name` varchar(150) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_airlines_unique` (`iata`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `airports`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `airports` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `fs` varchar(5) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `iata` varchar(3) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `icao` varchar(5) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `faa` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `name` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `city` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `countryCode` varchar(2) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `countryName` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `regionName` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `timeZoneRegionName` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `weatherZone` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `utcOffsetHours` int DEFAULT NULL,
  `latitude` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `longitude` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `elevationFeet` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `classification` int DEFAULT NULL,
  `active` tinyint(1) DEFAULT NULL,
  `weatherUrl` varchar(350) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `delayIndexUrl` varchar(350) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_airports_unique` (`iata`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `amenities`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `amenities` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `description` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL,
  `image_relative_url` varchar(300) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `important` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_amenities_unique` (`description`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `application_product_prices`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `application_product_prices` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `unit_amount` double NOT NULL,
  `recurring` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL,
  `application_product_id` bigint unsigned NOT NULL,
  `stripe_price_id` varchar(250) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `stripe_price` json DEFAULT NULL,
  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_application_product_prices_unique` (`application_product_id`,`recurring`),
  CONSTRAINT `fk_application_product_prices_product_id` FOREIGN KEY (`application_product_id`) REFERENCES `application_products` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `application_products`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `application_products` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(150) COLLATE utf8mb4_unicode_ci NOT NULL,
  `description` varchar(200) COLLATE utf8mb4_unicode_ci NOT NULL,
  `stripe_product_id` varchar(250) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `stripe_product` json DEFAULT NULL,
  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_application_products_unique` (`name`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `bedding_types`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `bedding_types` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `description` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `is_active` tinyint(1) NOT NULL DEFAULT '0',
  `sort_order` int NOT NULL DEFAULT '10000',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_bedding_types_unique` (`description`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `booking_category`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `booking_category` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `description` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_booking_category_unique` (`description`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `booking_ocr`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `booking_ocr` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `file_name` varchar(200) COLLATE utf8mb4_unicode_ci NOT NULL,
  `s3_object_path` varchar(200) COLLATE utf8mb4_unicode_ci NOT NULL,
  `document_model_type` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `ocr_status_id` bigint unsigned NOT NULL,
  `itinerary_id` bigint unsigned DEFAULT NULL,
  `created_by_id` bigint unsigned NOT NULL,
  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `recognition_hash_key` varchar(150) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `fk_booking_ocr_itinerary_id` (`itinerary_id`),
  KEY `fk_booking_ocr_ocr_status_id` (`ocr_status_id`),
  KEY `fk_booking_ocr_ocr_created_by_id` (`created_by_id`),
  CONSTRAINT `fk_booking_ocr_itinerary_id` FOREIGN KEY (`itinerary_id`) REFERENCES `itinerary` (`id`) ON DELETE SET NULL,
  CONSTRAINT `fk_booking_ocr_ocr_created_by_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`),
  CONSTRAINT `fk_booking_ocr_ocr_status_id` FOREIGN KEY (`ocr_status_id`) REFERENCES `ocr_status` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `booking_ocr_import`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `booking_ocr_import` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `booking_id` bigint unsigned DEFAULT NULL,
  `booking_category_id` bigint unsigned DEFAULT NULL,
  `booking_ocr_id` bigint unsigned NOT NULL,
  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `fk_booking_ocr_import_booking_ocr_id` (`booking_ocr_id`),
  KEY `fk_booking_ocr_import_category_id` (`booking_category_id`),
  CONSTRAINT `fk_booking_ocr_import_booking_ocr_id` FOREIGN KEY (`booking_ocr_id`) REFERENCES `booking_ocr` (`id`) ON DELETE CASCADE,
  CONSTRAINT `fk_booking_ocr_import_category_id` FOREIGN KEY (`booking_category_id`) REFERENCES `booking_category` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `booking_ocr_importation_log`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `booking_ocr_importation_log` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `function_name` varchar(150) COLLATE utf8mb4_unicode_ci NOT NULL,
  `log` text COLLATE utf8mb4_unicode_ci,
  `booking_ocr_id` bigint unsigned NOT NULL,
  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `fk_booking_ocr_importation_log_booking_ocr_id` (`booking_ocr_id`),
  CONSTRAINT `fk_booking_ocr_importation_log_booking_ocr_id` FOREIGN KEY (`booking_ocr_id`) REFERENCES `booking_ocr` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `booking_ocr_recognition_log`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `booking_ocr_recognition_log` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `function_name` varchar(150) COLLATE utf8mb4_unicode_ci NOT NULL,
  `message` text COLLATE utf8mb4_unicode_ci,
  `api_response` json DEFAULT NULL,
  `ocr_status_id` bigint unsigned NOT NULL,
  `booking_ocr_id` bigint unsigned NOT NULL,
  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_booking_ocr_recognition_log_booking_ocr_id` (`booking_ocr_id`,`ocr_status_id`),
  KEY `fk_booking_ocr_recognition_log_ocr_status_id` (`ocr_status_id`),
  CONSTRAINT `fk_booking_ocr_recognition_log_booking_ocr_id` FOREIGN KEY (`booking_ocr_id`) REFERENCES `booking_ocr` (`id`) ON DELETE CASCADE,
  CONSTRAINT `fk_booking_ocr_recognition_log_ocr_status_id` FOREIGN KEY (`ocr_status_id`) REFERENCES `ocr_status` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `chat_content_type`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `chat_content_type` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `description` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_chat_content_type_unique` (`description`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `client_emails`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `client_emails` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `email` varchar(150) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `itinerary_client_id` bigint unsigned NOT NULL,
  `created_at` timestamp NOT NULL,
  `updated_at` timestamp NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_client_emails_itinerary_id` (`itinerary_client_id`,`email`),
  CONSTRAINT `fk_client_emails_itinerary_client_id` FOREIGN KEY (`itinerary_client_id`) REFERENCES `itinerary_client` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `client_info`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `client_info` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `favorite_vacation_spot` varchar(500) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `preferred_cuisine` varchar(500) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `allergies` varchar(500) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `user_id` bigint unsigned NOT NULL,
  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_client_info_unique` (`user_id`),
  CONSTRAINT `fk_client_info_copilot_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `concierge_pictures`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `concierge_pictures` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `itinerary_concierge_id` bigint unsigned NOT NULL,
  `image_url` varchar(300) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `created_at` timestamp NOT NULL,
  `updated_at` timestamp NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_concierge_pictures_itinerary_concierge_id` (`itinerary_concierge_id`,`image_url`),
  CONSTRAINT `fk_concierge_pictures_itinerary_concierge_id` FOREIGN KEY (`itinerary_concierge_id`) REFERENCES `itinerary_concierges` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `concierge_suppliers`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `concierge_suppliers` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `itinerary_concierge_id` bigint unsigned NOT NULL,
  `name` varchar(300) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `address` varchar(300) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `phone` varchar(30) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `website` varchar(300) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `email` varchar(150) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `created_at` timestamp NOT NULL,
  `updated_at` timestamp NOT NULL,
  `save_to_library` tinyint(1) NOT NULL DEFAULT '0',
  `description` text COLLATE utf8mb4_unicode_ci,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_concierge_suppliers_itinerary_concierge_id` (`itinerary_concierge_id`),
  CONSTRAINT `fk_concierge_suppliers_itinerary_concierge_id` FOREIGN KEY (`itinerary_concierge_id`) REFERENCES `itinerary_concierges` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `copilot_average_feedback`;
/*!50001 DROP VIEW IF EXISTS `copilot_average_feedback`*/;
SET @saved_cs_client     = @@character_set_client;
/*!50503 SET character_set_client = utf8mb4 */;
/*!50001 CREATE VIEW `copilot_average_feedback` AS SELECT 
 1 AS `copilot_id`,
 1 AS `review_count`,
 1 AS `average_rating`*/;
SET character_set_client = @saved_cs_client;
DROP TABLE IF EXISTS `copilot_duties`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `copilot_duties` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `advisor_request_type_id` bigint unsigned NOT NULL,
  `copilot_id` bigint unsigned NOT NULL,
  `created_at` timestamp NOT NULL,
  `updated_at` timestamp NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_advisor_assigned_copilot_pilot` (`advisor_request_type_id`,`copilot_id`),
  KEY `fk_copilot_duties_copilot_id` (`copilot_id`),
  CONSTRAINT `fk_copilot_duties_copilot_id` FOREIGN KEY (`copilot_id`) REFERENCES `users` (`id`) ON DELETE CASCADE,
  CONSTRAINT `fk_copilot_duties_request_type_id` FOREIGN KEY (`advisor_request_type_id`) REFERENCES `advisor_request_type` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `copilot_info`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `copilot_info` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `how_to_fulfill` text COLLATE utf8mb4_unicode_ci,
  `free_time_recommendations` text COLLATE utf8mb4_unicode_ci,
  `strengths` text COLLATE utf8mb4_unicode_ci,
  `confidential_handling` text COLLATE utf8mb4_unicode_ci,
  `experience` text COLLATE utf8mb4_unicode_ci,
  `contact_references` text COLLATE utf8mb4_unicode_ci,
  `other_info` text COLLATE utf8mb4_unicode_ci,
  `copilot_id` bigint unsigned NOT NULL,
  `created_at` timestamp NOT NULL,
  `updated_at` timestamp NOT NULL,
  `weaknesses` text COLLATE utf8mb4_unicode_ci,
  `bio` varchar(5000) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_copilot_info_unique` (`copilot_id`),
  CONSTRAINT `fk_copilot_info_copilot_id` FOREIGN KEY (`copilot_id`) REFERENCES `users` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `copilot_ratings_categorized`;
/*!50001 DROP VIEW IF EXISTS `copilot_ratings_categorized`*/;
SET @saved_cs_client     = @@character_set_client;
/*!50503 SET character_set_client = utf8mb4 */;
/*!50001 CREATE VIEW `copilot_ratings_categorized` AS SELECT 
 1 AS `copilot_id`,
 1 AS `review_count`,
 1 AS `average_rating`*/;
SET character_set_client = @saved_cs_client;
DROP TABLE IF EXISTS `cruise_cabin`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `cruise_cabin` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `itinerary_cruise_id` bigint unsigned NOT NULL,
  `cabin_category` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL,
  `confirmation_reference` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `bedding_type` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL,
  `guest_name` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `number_of_guests` int DEFAULT '0',
  PRIMARY KEY (`id`),
  KEY `fk_cruise_cabin_itinerary_cruise_id` (`itinerary_cruise_id`),
  CONSTRAINT `fk_cruise_cabin_itinerary_cruise_id` FOREIGN KEY (`itinerary_cruise_id`) REFERENCES `itinerary_cruises` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `cruise_passengers`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `cruise_passengers` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `itinerary_cruise_id` bigint unsigned NOT NULL,
  `itinerary_passenger_id` bigint unsigned NOT NULL,
  `cabin` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `cabin_category` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `ticket_number` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `created_at` timestamp NOT NULL,
  `updated_at` timestamp NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_cruise_passengers_itinerary_cruise_id` (`itinerary_cruise_id`,`itinerary_passenger_id`),
  KEY `fk_cruise_passengers_itinerary_passenger_id` (`itinerary_passenger_id`),
  CONSTRAINT `fk_cruise_passengers_itinerary_cruise_id` FOREIGN KEY (`itinerary_cruise_id`) REFERENCES `itinerary_cruises` (`id`) ON DELETE CASCADE,
  CONSTRAINT `fk_cruise_passengers_itinerary_passenger_id` FOREIGN KEY (`itinerary_passenger_id`) REFERENCES `itinerary_passenger` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `cruise_pictures`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `cruise_pictures` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `itinerary_cruise_id` bigint unsigned NOT NULL,
  `image_url` varchar(300) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `created_at` timestamp NOT NULL,
  `updated_at` timestamp NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_cruise_pictures_itinerary_cruise_id` (`itinerary_cruise_id`,`image_url`),
  CONSTRAINT `fk_cruise_pictures_itinerary_cruise_id` FOREIGN KEY (`itinerary_cruise_id`) REFERENCES `itinerary_cruises` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `cruise_suppliers`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `cruise_suppliers` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `itinerary_cruise_id` bigint unsigned NOT NULL,
  `name` varchar(300) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `address` varchar(300) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `phone` varchar(30) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `website` varchar(300) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `email` varchar(150) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `created_at` timestamp NOT NULL,
  `updated_at` timestamp NOT NULL,
  `description` text COLLATE utf8mb4_unicode_ci,
  `save_to_library` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_cruise_suppliers_itinerary_cruise_id` (`itinerary_cruise_id`),
  CONSTRAINT `fk_cruise_suppliers_itinerary_cruise_id` FOREIGN KEY (`itinerary_cruise_id`) REFERENCES `itinerary_cruises` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `currency_types`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `currency_types` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `description` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_currency_types_unique` (`description`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `default_itinerary_theme`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `default_itinerary_theme` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `user_id` bigint unsigned NOT NULL,
  `property_design_id` bigint unsigned DEFAULT '1',
  `itinerary_logo_relative_url` varchar(300) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `created_at` timestamp NOT NULL,
  `updated_at` timestamp NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_default_itinerary_theme_user_id` (`user_id`),
  KEY `fk_default_itinerary_theme_property_design_id` (`property_design_id`),
  CONSTRAINT `fk_default_itinerary_theme_property_design_id` FOREIGN KEY (`property_design_id`) REFERENCES `property_design` (`id`),
  CONSTRAINT `fk_default_itinerary_theme_user_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `failed_jobs`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `failed_jobs` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `uuid` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `connection` text COLLATE utf8mb4_unicode_ci NOT NULL,
  `queue` text COLLATE utf8mb4_unicode_ci NOT NULL,
  `payload` longtext COLLATE utf8mb4_unicode_ci NOT NULL,
  `exception` longtext COLLATE utf8mb4_unicode_ci NOT NULL,
  `failed_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `failed_jobs_uuid_unique` (`uuid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `feedback_topic`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `feedback_topic` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `description` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_feedback_topic_unique` (`description`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `flight_passengers`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `flight_passengers` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `itinerary_flight_id` bigint unsigned NOT NULL,
  `itinerary_passenger_id` bigint unsigned NOT NULL,
  `seat` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `class` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `frequent_flyer_number` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `ticket_number` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `created_at` timestamp NOT NULL,
  `updated_at` timestamp NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_flight_passengers_itinerary_flight_id` (`itinerary_flight_id`,`itinerary_passenger_id`),
  KEY `fk_flight_passengers_itinerary_passenger_id` (`itinerary_passenger_id`),
  CONSTRAINT `fk_flight_passengers_itinerary_flight_id` FOREIGN KEY (`itinerary_flight_id`) REFERENCES `itinerary_flights` (`id`) ON DELETE CASCADE,
  CONSTRAINT `fk_flight_passengers_itinerary_passenger_id` FOREIGN KEY (`itinerary_passenger_id`) REFERENCES `itinerary_passenger` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `flight_pictures`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `flight_pictures` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `itinerary_flight_id` bigint unsigned NOT NULL,
  `image_url` varchar(300) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `created_at` timestamp NOT NULL,
  `updated_at` timestamp NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_flight_pictures_itinerary_flight_id` (`itinerary_flight_id`,`image_url`),
  CONSTRAINT `fk_flight_pictures_itinerary_flight_id` FOREIGN KEY (`itinerary_flight_id`) REFERENCES `itinerary_flights` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `flight_suppliers`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `flight_suppliers` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `itinerary_flight_id` bigint unsigned NOT NULL,
  `name` varchar(300) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `address` varchar(300) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `phone` varchar(30) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `website` varchar(300) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `email` varchar(150) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `created_at` timestamp NOT NULL,
  `updated_at` timestamp NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_flight_suppliers_itinerary_flight_id` (`itinerary_flight_id`),
  CONSTRAINT `fk_flight_suppliers_itinerary_flight_id` FOREIGN KEY (`itinerary_flight_id`) REFERENCES `itinerary_flights` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `hotel_amenities`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `hotel_amenities` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `itinerary_hotel_id` bigint unsigned NOT NULL,
  `amenity` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `created_at` timestamp NOT NULL,
  `updated_at` timestamp NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_hotel_amenities_itinerary_hotel_id` (`itinerary_hotel_id`,`amenity`),
  CONSTRAINT `fk_hotel_amenities_itinerary_hotel_id` FOREIGN KEY (`itinerary_hotel_id`) REFERENCES `itinerary_hotels` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `hotel_passengers`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `hotel_passengers` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `itinerary_hotel_id` bigint unsigned NOT NULL,
  `itinerary_passenger_id` bigint unsigned NOT NULL,
  `room` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `created_at` timestamp NOT NULL,
  `updated_at` timestamp NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_hotel_passengers_itinerary_hotel_id` (`itinerary_hotel_id`,`itinerary_passenger_id`),
  KEY `fk_hotel_passengers_itinerary_passenger_id` (`itinerary_passenger_id`),
  CONSTRAINT `fk_hotel_passengers_itinerary_hotel_id` FOREIGN KEY (`itinerary_hotel_id`) REFERENCES `itinerary_hotels` (`id`) ON DELETE CASCADE,
  CONSTRAINT `fk_hotel_passengers_itinerary_passenger_id` FOREIGN KEY (`itinerary_passenger_id`) REFERENCES `itinerary_passenger` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `hotel_pictures`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `hotel_pictures` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `itinerary_hotel_id` bigint unsigned NOT NULL,
  `image_url` varchar(300) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `created_at` timestamp NOT NULL,
  `updated_at` timestamp NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_hotel_pictures_itinerary_hotel_id` (`itinerary_hotel_id`,`image_url`),
  CONSTRAINT `fk_hotel_pictures_itinerary_hotel_id` FOREIGN KEY (`itinerary_hotel_id`) REFERENCES `itinerary_hotels` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `hotel_room`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `hotel_room` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `itinerary_hotel_id` bigint unsigned NOT NULL,
  `room_type` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `guest_name` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `room_rate` decimal(15,4) DEFAULT NULL,
  `currency_id` bigint unsigned NOT NULL DEFAULT '144',
  `room_description` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  `created_at` timestamp NOT NULL,
  `updated_at` timestamp NOT NULL,
  `number_of_guests` int DEFAULT '0',
  `relative_image_url` varchar(300) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `bedding_type` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL,
  PRIMARY KEY (`id`),
  KEY `fk_hotel_room_itinerary_hotel_id` (`itinerary_hotel_id`),
  KEY `fk_hotel_room_currency_id` (`currency_id`),
  CONSTRAINT `fk_hotel_room_currency_id` FOREIGN KEY (`currency_id`) REFERENCES `currency_types` (`id`),
  CONSTRAINT `fk_hotel_room_itinerary_hotel_id` FOREIGN KEY (`itinerary_hotel_id`) REFERENCES `itinerary_hotels` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `hotel_suppliers`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `hotel_suppliers` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `itinerary_hotel_id` bigint unsigned NOT NULL,
  `name` varchar(300) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `address` varchar(300) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `phone` varchar(30) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `website` varchar(300) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `email` varchar(150) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `created_at` timestamp NOT NULL,
  `updated_at` timestamp NOT NULL,
  `save_to_library` tinyint(1) NOT NULL DEFAULT '0',
  `description` text COLLATE utf8mb4_unicode_ci,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_hotel_suppliers_itinerary_hotel_id` (`itinerary_hotel_id`),
  CONSTRAINT `fk_hotel_suppliers_itinerary_hotel_id` FOREIGN KEY (`itinerary_hotel_id`) REFERENCES `itinerary_hotels` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `insurance_pictures`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `insurance_pictures` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `itinerary_insurance_id` bigint unsigned NOT NULL,
  `image_url` varchar(300) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `created_at` timestamp NOT NULL,
  `updated_at` timestamp NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_insurance_pictures_itinerary_insurance_id` (`itinerary_insurance_id`,`image_url`),
  CONSTRAINT `fk_insurance_pictures_itinerary_insurance_id` FOREIGN KEY (`itinerary_insurance_id`) REFERENCES `itinerary_insurances` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `insurance_suppliers`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `insurance_suppliers` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `itinerary_insurance_id` bigint unsigned NOT NULL,
  `name` varchar(300) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `address` varchar(300) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `phone` varchar(30) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `website` varchar(300) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `email` varchar(150) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `created_at` timestamp NOT NULL,
  `updated_at` timestamp NOT NULL,
  `save_to_library` tinyint(1) NOT NULL DEFAULT '0',
  `description` text COLLATE utf8mb4_unicode_ci,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_insurance_suppliers_itinerary_insurance_id` (`itinerary_insurance_id`),
  CONSTRAINT `fk_insurance_suppliers_itinerary_insurance_id` FOREIGN KEY (`itinerary_insurance_id`) REFERENCES `itinerary_insurances` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `itinerary`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `itinerary` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `user_id` bigint unsigned NOT NULL,
  `title` varchar(150) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `start_date` date NOT NULL,
  `status_id` bigint unsigned NOT NULL,
  `created_at` timestamp NULL DEFAULT NULL,
  `updated_at` timestamp NULL DEFAULT NULL,
  `end_date` date DEFAULT NULL,
  `abstract_note` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  `show_price_on_share` tinyint(1) NOT NULL DEFAULT '0',
  `deleted_at` timestamp NULL DEFAULT NULL,
  `share_itinerary_key` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `mark_as_client_approved` tinyint(1) DEFAULT NULL,
  `traveller_id` bigint unsigned NOT NULL,
  `google_calendar_event_id` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `currency_id` bigint unsigned DEFAULT NULL,
  `total_price` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `fk_itinerary_identification_user_id` (`user_id`),
  KEY `fk_itinerary_identification_status_id` (`status_id`),
  KEY `fk_itinerary_traveller_id` (`traveller_id`),
  KEY `fk_itinerary_currency_id` (`currency_id`),
  CONSTRAINT `fk_itinerary_currency_id` FOREIGN KEY (`currency_id`) REFERENCES `currency_types` (`id`),
  CONSTRAINT `fk_itinerary_identification_status_id` FOREIGN KEY (`status_id`) REFERENCES `itinerary_status` (`id`),
  CONSTRAINT `fk_itinerary_identification_user_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`),
  CONSTRAINT `fk_itinerary_traveller_id` FOREIGN KEY (`traveller_id`) REFERENCES `traveller` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `itinerary_client`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `itinerary_client` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(150) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `phone` varchar(30) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `itinerary_id` bigint unsigned NOT NULL,
  `created_at` timestamp NOT NULL,
  `updated_at` timestamp NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_itinerary_client_itinerary_id` (`itinerary_id`),
  CONSTRAINT `fk_itinerary_client_itinerary_id` FOREIGN KEY (`itinerary_id`) REFERENCES `itinerary` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `itinerary_concierges`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `itinerary_concierges` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `itinerary_id` bigint unsigned NOT NULL,
  `price` decimal(15,4) DEFAULT NULL,
  `payment` varchar(150) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `confirmation_reference` varchar(150) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `start_datetime` datetime DEFAULT NULL,
  `end_datetime` datetime DEFAULT NULL,
  `confirmed_for` varchar(150) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `confirmed_by` varchar(150) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `cancel_policy` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  `notes` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  `created_at` timestamp NOT NULL,
  `updated_at` timestamp NOT NULL,
  `service_type` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `booking_category_id` bigint unsigned NOT NULL,
  `custom_header_title` varchar(250) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `google_calendar_event_id` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `sorting_rank` int NOT NULL DEFAULT '100',
  PRIMARY KEY (`id`),
  KEY `fk_itinerary_concierges_itinerary_id` (`itinerary_id`),
  KEY `fk_itinerary_concierges_booking_category_id` (`booking_category_id`),
  CONSTRAINT `fk_itinerary_concierges_booking_category_id` FOREIGN KEY (`booking_category_id`) REFERENCES `booking_category` (`id`),
  CONSTRAINT `fk_itinerary_concierges_itinerary_id` FOREIGN KEY (`itinerary_id`) REFERENCES `itinerary` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `itinerary_cruises`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `itinerary_cruises` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `departure_port_city` varchar(300) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `arrival_port_city` varchar(300) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `departure_datetime` datetime NOT NULL,
  `disembarkation_datetime` datetime NOT NULL,
  `itinerary_id` bigint unsigned NOT NULL,
  `cancel_policy` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  `notes` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  `created_at` timestamp NOT NULL,
  `updated_at` timestamp NOT NULL,
  `cruise_ship_name` varchar(300) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `booking_category_id` bigint unsigned NOT NULL,
  `departure_longitude` double(30,10) DEFAULT NULL,
  `departure_latitude` double(30,10) DEFAULT NULL,
  `arrival_longitude` double(30,10) DEFAULT NULL,
  `arrival_latitude` double(30,10) DEFAULT NULL,
  `custom_header_title` varchar(250) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `google_calendar_event_id` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `sorting_rank` int NOT NULL DEFAULT '100',
  PRIMARY KEY (`id`),
  KEY `fk_itinerary_cruises_itinerary_id` (`itinerary_id`),
  KEY `fk_itinerary_cruises_booking_category_id` (`booking_category_id`),
  CONSTRAINT `fk_itinerary_cruises_booking_category_id` FOREIGN KEY (`booking_category_id`) REFERENCES `booking_category` (`id`),
  CONSTRAINT `fk_itinerary_cruises_itinerary_id` FOREIGN KEY (`itinerary_id`) REFERENCES `itinerary` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `itinerary_divider`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `itinerary_divider` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `itinerary_id` bigint unsigned NOT NULL,
  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `target_date` date NOT NULL,
  `booking_category_id` bigint unsigned NOT NULL,
  `custom_header_title` varchar(250) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `sorting_rank` int NOT NULL DEFAULT '100',
  PRIMARY KEY (`id`),
  KEY `fk_itinerary_divider_booking_category_id` (`booking_category_id`),
  KEY `fk_itinerary_divider_itinerary_id` (`itinerary_id`),
  CONSTRAINT `fk_itinerary_divider_booking_category_id` FOREIGN KEY (`booking_category_id`) REFERENCES `booking_category` (`id`),
  CONSTRAINT `fk_itinerary_divider_itinerary_id` FOREIGN KEY (`itinerary_id`) REFERENCES `itinerary` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `itinerary_documents`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `itinerary_documents` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `document_relative_url` varchar(300) COLLATE utf8mb4_unicode_ci NOT NULL,
  `itinerary_id` bigint unsigned NOT NULL,
  `created_at` timestamp NOT NULL,
  `updated_at` timestamp NOT NULL,
  `name` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_itinerary_documents_name` (`itinerary_id`,`document_relative_url`),
  CONSTRAINT `fk_itinerary_documents_itinerary_id` FOREIGN KEY (`itinerary_id`) REFERENCES `itinerary` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `itinerary_flight_segment`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `itinerary_flight_segment` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `flight_from` varchar(300) COLLATE utf8mb4_unicode_ci NOT NULL,
  `flight_to` varchar(300) COLLATE utf8mb4_unicode_ci NOT NULL,
  `flight_from_icao` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `flight_from_latitude` varchar(30) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `flight_from_longitude` varchar(30) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `flight_to_icao` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `flight_to_latitude` varchar(30) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `flight_to_longitude` varchar(30) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `airline` varchar(300) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `airline_operator` varchar(300) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `flight_number` varchar(300) COLLATE utf8mb4_unicode_ci NOT NULL,
  `duration_in_minutes` int DEFAULT NULL,
  `departure_datetime` datetime NOT NULL,
  `arrival_datetime` datetime DEFAULT NULL,
  `itinerary_flight_id` bigint unsigned NOT NULL,
  `created_at` timestamp NOT NULL,
  `updated_at` timestamp NOT NULL,
  `flight_from_iata` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `flight_to_iata` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `fk_itinerary_flight_segment_flight_id` (`itinerary_flight_id`),
  CONSTRAINT `fk_itinerary_flight_segment_flight_id` FOREIGN KEY (`itinerary_flight_id`) REFERENCES `itinerary_flights` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `itinerary_flights`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `itinerary_flights` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `itinerary_id` bigint unsigned NOT NULL,
  `cancel_policy` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  `notes` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  `created_at` timestamp NOT NULL,
  `updated_at` timestamp NOT NULL,
  `booking_category_id` bigint unsigned NOT NULL,
  `confirmation_number` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `custom_header_title` varchar(250) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `google_calendar_event_id` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `price` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `check_in_url` varchar(250) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `sorting_rank` int NOT NULL DEFAULT '100',
  PRIMARY KEY (`id`),
  KEY `fk_itinerary_flights_itinerary_id` (`itinerary_id`),
  KEY `fk_itinerary_flights_booking_category_id` (`booking_category_id`),
  CONSTRAINT `fk_itinerary_flights_booking_category_id` FOREIGN KEY (`booking_category_id`) REFERENCES `booking_category` (`id`),
  CONSTRAINT `fk_itinerary_flights_itinerary_id` FOREIGN KEY (`itinerary_id`) REFERENCES `itinerary` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `itinerary_header`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `itinerary_header` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `itinerary_id` bigint unsigned NOT NULL,
  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `target_date` date NOT NULL,
  `booking_category_id` bigint unsigned NOT NULL,
  `custom_header_title` varchar(250) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `sorting_rank` int NOT NULL DEFAULT '100',
  PRIMARY KEY (`id`),
  KEY `fk_itinerary_header_booking_category_id` (`booking_category_id`),
  KEY `fk_itinerary_header_itinerary_id` (`itinerary_id`),
  CONSTRAINT `fk_itinerary_header_booking_category_id` FOREIGN KEY (`booking_category_id`) REFERENCES `booking_category` (`id`),
  CONSTRAINT `fk_itinerary_header_itinerary_id` FOREIGN KEY (`itinerary_id`) REFERENCES `itinerary` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `itinerary_hotels`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `itinerary_hotels` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `price` decimal(15,4) DEFAULT NULL,
  `check_in_date` date NOT NULL,
  `check_out_date` date NOT NULL,
  `travelers` int DEFAULT NULL,
  `confirmation_reference` varchar(300) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `itinerary_id` bigint unsigned NOT NULL,
  `cancel_policy` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  `notes` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  `created_at` timestamp NOT NULL,
  `updated_at` timestamp NOT NULL,
  `payment` varchar(150) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `check_in_time` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `check_out_time` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `booking_category_id` bigint unsigned NOT NULL,
  `custom_header_title` varchar(250) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `google_calendar_event_id` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `sorting_rank` int NOT NULL DEFAULT '100',
  PRIMARY KEY (`id`),
  KEY `fk_itinerary_hotels_itinerary_id` (`itinerary_id`),
  KEY `fk_itinerary_hotels_booking_category_id` (`booking_category_id`),
  CONSTRAINT `fk_itinerary_hotels_booking_category_id` FOREIGN KEY (`booking_category_id`) REFERENCES `booking_category` (`id`),
  CONSTRAINT `fk_itinerary_hotels_itinerary_id` FOREIGN KEY (`itinerary_id`) REFERENCES `itinerary` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `itinerary_insurances`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `itinerary_insurances` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `itinerary_id` bigint unsigned NOT NULL,
  `price` decimal(15,4) DEFAULT NULL,
  `payment` varchar(150) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `company` varchar(150) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `confirmation_reference` varchar(150) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `effective_date` date DEFAULT NULL,
  `policy_type` varchar(150) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `cancel_policy` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  `notes` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  `created_at` timestamp NOT NULL,
  `updated_at` timestamp NOT NULL,
  `booking_category_id` bigint unsigned NOT NULL,
  `custom_header_title` varchar(250) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `google_calendar_event_id` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `sorting_rank` int NOT NULL DEFAULT '100',
  PRIMARY KEY (`id`),
  KEY `fk_itinerary_insurances_itinerary_id` (`itinerary_id`),
  KEY `fk_itinerary_insurances_booking_category_id` (`booking_category_id`),
  CONSTRAINT `fk_itinerary_insurances_booking_category_id` FOREIGN KEY (`booking_category_id`) REFERENCES `booking_category` (`id`),
  CONSTRAINT `fk_itinerary_insurances_itinerary_id` FOREIGN KEY (`itinerary_id`) REFERENCES `itinerary` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `itinerary_monthly_count`;
/*!50001 DROP VIEW IF EXISTS `itinerary_monthly_count`*/;
SET @saved_cs_client     = @@character_set_client;
/*!50503 SET character_set_client = utf8mb4 */;
/*!50001 CREATE VIEW `itinerary_monthly_count` AS SELECT 
 1 AS `year_created`,
 1 AS `month_created`,
 1 AS `records`*/;
SET character_set_client = @saved_cs_client;
DROP TABLE IF EXISTS `itinerary_others`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `itinerary_others` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `itinerary_id` bigint unsigned NOT NULL,
  `title` varchar(150) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `notes` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  `created_at` timestamp NOT NULL,
  `updated_at` timestamp NOT NULL,
  `show_on_top` tinyint(1) DEFAULT '0',
  `target_date` date NOT NULL,
  `booking_category_id` bigint unsigned NOT NULL,
  `custom_header_title` varchar(250) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `google_calendar_event_id` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `save_to_library` tinyint(1) NOT NULL DEFAULT '0',
  `sorting_rank` int NOT NULL DEFAULT '100',
  PRIMARY KEY (`id`),
  KEY `fk_itinerary_others_itinerary_id` (`itinerary_id`),
  KEY `fk_itinerary_others_booking_category_id` (`booking_category_id`),
  CONSTRAINT `fk_itinerary_others_booking_category_id` FOREIGN KEY (`booking_category_id`) REFERENCES `booking_category` (`id`),
  CONSTRAINT `fk_itinerary_others_itinerary_id` FOREIGN KEY (`itinerary_id`) REFERENCES `itinerary` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `itinerary_passenger`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `itinerary_passenger` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(150) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `itinerary_id` bigint unsigned NOT NULL,
  `created_at` timestamp NOT NULL,
  `updated_at` timestamp NOT NULL,
  `passenger_type_id` bigint unsigned NOT NULL DEFAULT '4',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_itinerary_passenger_name` (`itinerary_id`,`name`),
  KEY `fk_itinerary_passenger_passenger_type_id` (`passenger_type_id`),
  CONSTRAINT `fk_itinerary_passenger_itinerary_id` FOREIGN KEY (`itinerary_id`) REFERENCES `itinerary` (`id`) ON DELETE CASCADE,
  CONSTRAINT `fk_itinerary_passenger_passenger_type_id` FOREIGN KEY (`passenger_type_id`) REFERENCES `passenger_type` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `itinerary_pictures`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `itinerary_pictures` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `image_url` varchar(300) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `itinerary_id` bigint unsigned NOT NULL,
  `created_at` timestamp NOT NULL,
  `updated_at` timestamp NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_itinerary_pictures_name` (`itinerary_id`,`image_url`),
  CONSTRAINT `fk_itinerary_pictures_itinerary_id` FOREIGN KEY (`itinerary_id`) REFERENCES `itinerary` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `itinerary_status`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `itinerary_status` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `description` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_itinerary_status_unique` (`description`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `itinerary_tasks`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `itinerary_tasks` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `itinerary_id` bigint unsigned DEFAULT NULL,
  `title` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL,
  `deadline` date DEFAULT NULL,
  `notes` varchar(1000) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `is_completed` tinyint(1) NOT NULL DEFAULT '0',
  `created_at` timestamp NOT NULL,
  `updated_at` timestamp NOT NULL,
  PRIMARY KEY (`id`),
  KEY `fk_itinerary_tasks_itinerary_id` (`itinerary_id`),
  CONSTRAINT `fk_itinerary_tasks_itinerary_id` FOREIGN KEY (`itinerary_id`) REFERENCES `itinerary` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `itinerary_theme`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `itinerary_theme` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `itinerary_id` bigint unsigned NOT NULL,
  `created_at` timestamp NOT NULL,
  `updated_at` timestamp NOT NULL,
  `abstract_position_id` bigint unsigned DEFAULT '2',
  `hide_abstract` tinyint(1) DEFAULT '0',
  `property_design_id` bigint unsigned DEFAULT '1',
  `itinerary_logo_url` varchar(300) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_itinerary_theme_itinerary_id` (`itinerary_id`),
  KEY `fk_itinerary_theme_abstract_position_id` (`abstract_position_id`),
  KEY `fk_itinerary_theme_property_design_id` (`property_design_id`),
  CONSTRAINT `fk_itinerary_theme_abstract_position_id` FOREIGN KEY (`abstract_position_id`) REFERENCES `property_position` (`id`),
  CONSTRAINT `fk_itinerary_theme_itinerary_id` FOREIGN KEY (`itinerary_id`) REFERENCES `itinerary` (`id`) ON DELETE CASCADE,
  CONSTRAINT `fk_itinerary_theme_property_design_id` FOREIGN KEY (`property_design_id`) REFERENCES `property_design` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `itinerary_tours`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `itinerary_tours` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `itinerary_id` bigint unsigned NOT NULL,
  `price` double DEFAULT NULL,
  `payment` varchar(150) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `confirmation_reference` varchar(150) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `start_datetime` datetime DEFAULT NULL,
  `end_datetime` datetime DEFAULT NULL,
  `meeting_point` varchar(150) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `confirmed_by` varchar(150) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `description` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  `notes` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  `created_at` timestamp NOT NULL,
  `updated_at` timestamp NOT NULL,
  `booking_category_id` bigint unsigned NOT NULL,
  `custom_header_title` varchar(250) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `google_calendar_event_id` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `sorting_rank` int NOT NULL DEFAULT '100',
  PRIMARY KEY (`id`),
  KEY `fk_itinerary_tours_itinerary_id` (`itinerary_id`),
  KEY `fk_itinerary_tours_booking_category_id` (`booking_category_id`),
  CONSTRAINT `fk_itinerary_tours_booking_category_id` FOREIGN KEY (`booking_category_id`) REFERENCES `booking_category` (`id`),
  CONSTRAINT `fk_itinerary_tours_itinerary_id` FOREIGN KEY (`itinerary_id`) REFERENCES `itinerary` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `itinerary_transports`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `itinerary_transports` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `transit_type_id` bigint unsigned NOT NULL,
  `itinerary_id` bigint unsigned NOT NULL,
  `price` decimal(15,4) DEFAULT NULL,
  `notes` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  `created_at` timestamp NOT NULL,
  `updated_at` timestamp NOT NULL,
  `transport_from` varchar(300) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `transport_to` varchar(300) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `departure_datetime` datetime NOT NULL,
  `arrival_datetime` datetime NOT NULL,
  `vehicle` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `booking_category_id` bigint unsigned NOT NULL,
  `custom_header_title` varchar(250) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `google_calendar_event_id` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `sorting_rank` int NOT NULL DEFAULT '100',
  PRIMARY KEY (`id`),
  KEY `fk_itinerary_transports_itinerary_id` (`itinerary_id`),
  KEY `fk_itinerary_transports_transit_type_id` (`transit_type_id`),
  KEY `fk_itinerary_transports_booking_category_id` (`booking_category_id`),
  CONSTRAINT `fk_itinerary_transports_booking_category_id` FOREIGN KEY (`booking_category_id`) REFERENCES `booking_category` (`id`),
  CONSTRAINT `fk_itinerary_transports_itinerary_id` FOREIGN KEY (`itinerary_id`) REFERENCES `itinerary` (`id`) ON DELETE CASCADE,
  CONSTRAINT `fk_itinerary_transports_transit_type_id` FOREIGN KEY (`transit_type_id`) REFERENCES `transit_type` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `itinerary_weekly_count`;
/*!50001 DROP VIEW IF EXISTS `itinerary_weekly_count`*/;
SET @saved_cs_client     = @@character_set_client;
/*!50503 SET character_set_client = utf8mb4 */;
/*!50001 CREATE VIEW `itinerary_weekly_count` AS SELECT 
 1 AS `year_created`,
 1 AS `week_created`,
 1 AS `any_date`,
 1 AS `records`*/;
SET character_set_client = @saved_cs_client;
DROP TABLE IF EXISTS `job_batches`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `job_batches` (
  `id` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `total_jobs` int NOT NULL,
  `pending_jobs` int NOT NULL,
  `failed_jobs` int NOT NULL,
  `failed_job_ids` text COLLATE utf8mb4_unicode_ci NOT NULL,
  `options` mediumtext COLLATE utf8mb4_unicode_ci,
  `cancelled_at` int DEFAULT NULL,
  `created_at` int NOT NULL,
  `finished_at` int DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `jobs`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `jobs` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `queue` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `payload` longtext COLLATE utf8mb4_unicode_ci NOT NULL,
  `attempts` tinyint unsigned NOT NULL,
  `reserved_at` int unsigned DEFAULT NULL,
  `available_at` int unsigned NOT NULL,
  `created_at` int unsigned NOT NULL,
  PRIMARY KEY (`id`),
  KEY `jobs_queue_index` (`queue`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `master_account`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `master_account` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `user_id` bigint unsigned NOT NULL,
  `title` varchar(150) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by_id` bigint unsigned NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `fk_master_account_unique` (`user_id`),
  KEY `fk_master_account_created_by_id` (`created_by_id`),
  CONSTRAINT `fk_master_account_created_by_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`),
  CONSTRAINT `fk_master_account_user_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `master_sub_account`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `master_sub_account` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `user_id` bigint unsigned NOT NULL,
  `master_account_id` bigint unsigned NOT NULL,
  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by_id` bigint unsigned NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `fk_master_sub_account_unique` (`user_id`),
  KEY `fk_master_sub_account_created_by_id` (`created_by_id`),
  KEY `fk_master_sub_account_master_account_id` (`master_account_id`),
  CONSTRAINT `fk_master_sub_account_created_by_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`),
  CONSTRAINT `fk_master_sub_account_master_account_id` FOREIGN KEY (`master_account_id`) REFERENCES `master_account` (`id`) ON DELETE CASCADE,
  CONSTRAINT `fk_master_sub_account_user_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `migrations`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `migrations` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `migration` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `batch` int NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `ocr_status`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `ocr_status` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `description` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_ocr_status_unique` (`description`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `passenger_type`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `passenger_type` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `description` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_transit_type_unique` (`description`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `preferred_timezones`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `preferred_timezones` (
  `id` int NOT NULL AUTO_INCREMENT,
  `timezone_id` varchar(150) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `country_name` varchar(250) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `offset_seconds` int DEFAULT NULL,
  `offset_minutes` int DEFAULT NULL,
  `offset_gmt` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `offset_tzid` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `offset_tzab` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `offset_tzfull` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_preferred_timezones_timezone_id` (`timezone_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `priorities`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `priorities` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `description` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_priorities_unique` (`description`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `property_design`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `property_design` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `description` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_property_design_unique` (`description`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `property_position`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `property_position` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `description` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_property_position_unique` (`description`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `registration_access_codes`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `registration_access_codes` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `code` varchar(20) COLLATE utf8mb4_unicode_ci NOT NULL,
  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_registration_access_codes` (`code`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `roles`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `roles` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `description` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_roles_unique` (`description`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `saved_supplier`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `saved_supplier` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `service_supplier_id` bigint unsigned NOT NULL,
  `user_id` bigint unsigned NOT NULL,
  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_saved_supplier_user_id` (`service_supplier_id`,`user_id`),
  KEY `fk_saved_supplier_user_id` (`user_id`),
  CONSTRAINT `fk_saved_supplier_service_supplier_id` FOREIGN KEY (`service_supplier_id`) REFERENCES `service_suppliers` (`id`) ON DELETE CASCADE,
  CONSTRAINT `fk_saved_supplier_user_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `service_ships`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `service_ships` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(300) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `ref_ship_id` bigint DEFAULT NULL,
  `service_supplier_id` bigint unsigned NOT NULL,
  `created_at` timestamp NOT NULL,
  `updated_at` timestamp NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_service_ships` (`service_supplier_id`,`name`),
  CONSTRAINT `fk_service_ships_service_supplier_id` FOREIGN KEY (`service_supplier_id`) REFERENCES `service_suppliers` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `service_suppliers`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `service_suppliers` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(300) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `address` varchar(300) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `phone` varchar(30) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `website` varchar(300) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `email` varchar(150) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `booking_category_id` bigint unsigned NOT NULL,
  `created_by_id` bigint unsigned NOT NULL,
  `is_globally_accessible` tinyint(1) NOT NULL,
  `created_at` timestamp NOT NULL,
  `updated_at` timestamp NOT NULL,
  `description` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  `ref_id` bigint DEFAULT NULL,
  `image_url` varchar(300) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_service_suppliers_name` (`booking_category_id`,`name`),
  KEY `fk_service_suppliers_created_by_id` (`created_by_id`),
  CONSTRAINT `fk_service_suppliers_booking_category_id` FOREIGN KEY (`booking_category_id`) REFERENCES `booking_category` (`id`),
  CONSTRAINT `fk_service_suppliers_created_by_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `service_suppliers_pictures`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `service_suppliers_pictures` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `service_suppliers_id` bigint unsigned NOT NULL,
  `image_relative_url` varchar(300) COLLATE utf8mb4_unicode_ci NOT NULL,
  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_service_suppliers_pictures_service_suppliers_id` (`service_suppliers_id`,`image_relative_url`),
  CONSTRAINT `fk_service_suppliers_pictures_service_suppliers_id` FOREIGN KEY (`service_suppliers_id`) REFERENCES `service_suppliers` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `ship_ports`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `ship_ports` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(300) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `ref_port_id` bigint DEFAULT NULL,
  `description` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  `latitude` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `longitude` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `service_supplier_id` bigint unsigned NOT NULL,
  `created_at` timestamp NOT NULL,
  `updated_at` timestamp NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_ship_ports` (`service_supplier_id`,`name`),
  CONSTRAINT `fk_ship_ports_service_supplier_id` FOREIGN KEY (`service_supplier_id`) REFERENCES `service_suppliers` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `stripe_audit_logs`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `stripe_audit_logs` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `user_id` bigint unsigned NOT NULL,
  `action_required` varchar(250) COLLATE utf8mb4_unicode_ci NOT NULL,
  `request_params` json DEFAULT NULL,
  `stripe_response` json DEFAULT NULL,
  `comments` text COLLATE utf8mb4_unicode_ci,
  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `fk_stripe_audit_logs_user_id` (`user_id`),
  CONSTRAINT `fk_stripe_audit_logs_user_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `stripe_checkout_logs`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `stripe_checkout_logs` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `user_id` bigint unsigned NOT NULL,
  `session_id` varchar(250) COLLATE utf8mb4_unicode_ci NOT NULL,
  `redirect_url` varchar(550) COLLATE utf8mb4_unicode_ci NOT NULL,
  `stripe_response` json DEFAULT NULL,
  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_stripe_checkout_logs_user_id` (`user_id`,`session_id`),
  CONSTRAINT `fk_stripe_checkout_logs_user_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `stripe_payment_intent`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `stripe_payment_intent` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `user_id` bigint unsigned NOT NULL,
  `succeeded` tinyint(1) NOT NULL,
  `stripe_response` json DEFAULT NULL,
  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `fk_stripe_payment_intent_user_id` (`user_id`),
  CONSTRAINT `fk_stripe_payment_intent_user_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `stripe_subscription_history`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `stripe_subscription_history` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `user_id` bigint unsigned NOT NULL,
  `stripe_customer` json NOT NULL,
  `stripe_subscription` json NOT NULL,
  `status` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL,
  `plan_interval` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `amount_decimal` decimal(15,4) DEFAULT NULL,
  `current_period_start` datetime DEFAULT NULL,
  `current_period_end` datetime DEFAULT NULL,
  `start_date` datetime DEFAULT NULL,
  `ended_at` datetime DEFAULT NULL,
  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `fk_stripe_subscription_history_user_id` (`user_id`),
  CONSTRAINT `fk_stripe_subscription_history_user_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `tour_pictures`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `tour_pictures` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `itinerary_tour_id` bigint unsigned NOT NULL,
  `image_url` varchar(300) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `created_at` timestamp NOT NULL,
  `updated_at` timestamp NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_tour_pictures_itinerary_tour_id` (`itinerary_tour_id`,`image_url`),
  CONSTRAINT `fk_tour_pictures_itinerary_tour_id` FOREIGN KEY (`itinerary_tour_id`) REFERENCES `itinerary_tours` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `tour_suppliers`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `tour_suppliers` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `itinerary_tour_id` bigint unsigned NOT NULL,
  `name` varchar(300) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `address` varchar(300) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `phone` varchar(30) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `website` varchar(300) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `email` varchar(150) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `created_at` timestamp NOT NULL,
  `updated_at` timestamp NOT NULL,
  `save_to_library` tinyint(1) NOT NULL DEFAULT '0',
  `description` text COLLATE utf8mb4_unicode_ci,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_tour_suppliers_itinerary_tour_id` (`itinerary_tour_id`),
  CONSTRAINT `fk_tour_suppliers_itinerary_tour_id` FOREIGN KEY (`itinerary_tour_id`) REFERENCES `itinerary_tours` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `transit_type`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `transit_type` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `description` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_transit_type_unique` (`description`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `transport_passengers`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `transport_passengers` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `itinerary_transport_id` bigint unsigned NOT NULL,
  `itinerary_passenger_id` bigint unsigned NOT NULL,
  `created_at` timestamp NOT NULL,
  `updated_at` timestamp NOT NULL,
  `seat` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `class` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `frequent_flyer_number` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `ticket_number` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_transport_passengers_itinerary_transport_id` (`itinerary_transport_id`,`itinerary_passenger_id`),
  KEY `fk_transport_passengers_itinerary_passenger_id` (`itinerary_passenger_id`),
  CONSTRAINT `fk_transport_passengers_itinerary_passenger_id` FOREIGN KEY (`itinerary_passenger_id`) REFERENCES `itinerary_passenger` (`id`) ON DELETE CASCADE,
  CONSTRAINT `fk_transport_passengers_itinerary_transport_id` FOREIGN KEY (`itinerary_transport_id`) REFERENCES `itinerary_transports` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `transport_pictures`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `transport_pictures` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `itinerary_transport_id` bigint unsigned NOT NULL,
  `image_url` varchar(300) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `created_at` timestamp NOT NULL,
  `updated_at` timestamp NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_transport_pictures_itinerary_transport_id` (`itinerary_transport_id`,`image_url`),
  CONSTRAINT `fk_transport_pictures_itinerary_transport_id` FOREIGN KEY (`itinerary_transport_id`) REFERENCES `itinerary_transports` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `transport_suppliers`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `transport_suppliers` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `itinerary_transport_id` bigint unsigned NOT NULL,
  `name` varchar(300) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `address` varchar(300) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `phone` varchar(30) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `website` varchar(300) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `email` varchar(150) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `created_at` timestamp NOT NULL,
  `updated_at` timestamp NOT NULL,
  `save_to_library` tinyint(1) NOT NULL DEFAULT '0',
  `description` text COLLATE utf8mb4_unicode_ci,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_transport_suppliers_itinerary_transport_id` (`itinerary_transport_id`),
  CONSTRAINT `fk_transport_suppliers_itinerary_transport_id` FOREIGN KEY (`itinerary_transport_id`) REFERENCES `itinerary_transports` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `traveller`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `traveller` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(150) COLLATE utf8mb4_unicode_ci NOT NULL,
  `phone` varchar(30) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `abstract_note` text COLLATE utf8mb4_unicode_ci,
  `created_by_id` bigint unsigned NOT NULL,
  `created_at` timestamp NOT NULL,
  `updated_at` timestamp NOT NULL,
  `birthday` date DEFAULT NULL,
  `address` varchar(300) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `image_relative_url` varchar(300) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `fk_traveller_created_by_id` (`created_by_id`),
  CONSTRAINT `fk_traveller_created_by_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `traveller_document`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `traveller_document` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `traveller_id` bigint unsigned NOT NULL,
  `document_relative_url` varchar(300) COLLATE utf8mb4_unicode_ci NOT NULL,
  `name` varchar(200) COLLATE utf8mb4_unicode_ci NOT NULL,
  `created_at` timestamp NOT NULL,
  `updated_at` timestamp NOT NULL,
  PRIMARY KEY (`id`),
  KEY `fk_traveller_document_traveller_id` (`traveller_id`),
  CONSTRAINT `fk_traveller_document_traveller_id` FOREIGN KEY (`traveller_id`) REFERENCES `traveller` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `traveller_email`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `traveller_email` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `email` varchar(150) COLLATE utf8mb4_unicode_ci NOT NULL,
  `traveller_id` bigint unsigned NOT NULL,
  `created_at` timestamp NOT NULL,
  `updated_at` timestamp NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_traveller_email_itinerary_id` (`traveller_id`,`email`),
  CONSTRAINT `fk_traveller_email_traveller_id` FOREIGN KEY (`traveller_id`) REFERENCES `traveller` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `user_notes`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `user_notes` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `title` varchar(150) COLLATE utf8mb4_unicode_ci NOT NULL,
  `created_by_id` bigint unsigned NOT NULL,
  `created_at` timestamp NOT NULL,
  `updated_at` timestamp NOT NULL,
  `notes` text COLLATE utf8mb4_unicode_ci,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uq_user_notes_title` (`created_by_id`,`title`),
  CONSTRAINT `fk_user_notes_created_by_id` FOREIGN KEY (`created_by_id`) REFERENCES `users` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `user_stripe_account`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `user_stripe_account` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `user_id` bigint unsigned NOT NULL,
  `stripe_customer` json DEFAULT NULL,
  `stripe_subscription` json DEFAULT NULL,
  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `stripe_connect_account` json DEFAULT NULL,
  `connect_boarding_completed` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  UNIQUE KEY `fk_user_stripe_account_unique` (`user_id`),
  CONSTRAINT `fk_user_stripe_account_user_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `users`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `users` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `email` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `password` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `created_at` timestamp NULL DEFAULT NULL,
  `updated_at` timestamp NULL DEFAULT NULL,
  `first_name` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `last_name` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `profile_image_url` varchar(300) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `phone` varchar(30) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `location` varchar(250) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `iata_number` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `agency_name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `job_title` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `role_id` bigint unsigned NOT NULL,
  `preferred_timezone_tzab` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'EDT',
  `password_reset_token` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `password_reset_token_expiry` datetime DEFAULT NULL,
  `account_status_id` bigint unsigned NOT NULL,
  `friendly_identifier` varchar(150) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `default_currency_id` bigint unsigned NOT NULL DEFAULT '144',
  `impersonation_token` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `impersonation_token_expiry` datetime DEFAULT NULL,
  `google_authentication_token` json DEFAULT NULL,
  `has_valid_license` tinyint(1) NOT NULL DEFAULT '0',
  `linkedin_url` varchar(500) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `agency_usage_mode_id` bigint unsigned DEFAULT NULL,
  `address_line1` varchar(150) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `address_line2` varchar(150) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `country` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `state` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `zip` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `city` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `deleted_at` timestamp NULL DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `users_email_unique` (`email`),
  UNIQUE KEY `uq_users_friendly_identifier` (`friendly_identifier`),
  KEY `fk_users_role_id` (`role_id`),
  KEY `fk_users_account_status_id` (`account_status_id`),
  KEY `fk_users_default_currency_id` (`default_currency_id`),
  KEY `fk_users_agency_usage_mode_id` (`agency_usage_mode_id`),
  CONSTRAINT `fk_users_account_status_id` FOREIGN KEY (`account_status_id`) REFERENCES `account_status` (`id`),
  CONSTRAINT `fk_users_agency_usage_mode_id` FOREIGN KEY (`agency_usage_mode_id`) REFERENCES `agency_usage_mode` (`id`),
  CONSTRAINT `fk_users_default_currency_id` FOREIGN KEY (`default_currency_id`) REFERENCES `currency_types` (`id`),
  CONSTRAINT `fk_users_role_id` FOREIGN KEY (`role_id`) REFERENCES `roles` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `view_latest_client_emails`;
/*!50001 DROP VIEW IF EXISTS `view_latest_client_emails`*/;
SET @saved_cs_client     = @@character_set_client;
/*!50503 SET character_set_client = utf8mb4 */;
/*!50001 CREATE VIEW `view_latest_client_emails` AS SELECT 
 1 AS `id`,
 1 AS `email`,
 1 AS `itinerary_client_id`,
 1 AS `created_at`,
 1 AS `updated_at`*/;
SET character_set_client = @saved_cs_client;
/*!50001 DROP VIEW IF EXISTS `copilot_average_feedback`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = utf8mb4 */;
/*!50001 SET character_set_results     = utf8mb4 */;
/*!50001 SET collation_connection      = utf8mb4_unicode_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`%` SQL SECURITY DEFINER */
/*!50001 VIEW `copilot_average_feedback` AS select `aac`.`copilot_id` AS `copilot_id`,count(0) AS `review_count`,avg(`arf`.`average_rating`) AS `average_rating` from ((`advisor_request_feedback` `arf` join `advisor_request` `ar` on((`arf`.`advisor_request_id` = `ar`.`id`))) join `advisor_assigned_copilot` `aac` on((`ar`.`id` = `aac`.`advisor_request_id`))) group by `aac`.`copilot_id` */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;
/*!50001 DROP VIEW IF EXISTS `copilot_ratings_categorized`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = utf8mb4 */;
/*!50001 SET character_set_results     = utf8mb4 */;
/*!50001 SET collation_connection      = utf8mb4_unicode_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`%` SQL SECURITY DEFINER */
/*!50001 VIEW `copilot_ratings_categorized` AS select `aac`.`copilot_id` AS `copilot_id`,count(0) AS `review_count`,ceiling(`arf`.`average_rating`) AS `average_rating` from ((`advisor_request_feedback` `arf` join `advisor_request` `ar` on((`arf`.`advisor_request_id` = `ar`.`id`))) join `advisor_assigned_copilot` `aac` on((`ar`.`id` = `aac`.`advisor_request_id`))) group by `aac`.`copilot_id`,ceiling(`arf`.`average_rating`) */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;
/*!50001 DROP VIEW IF EXISTS `itinerary_monthly_count`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = utf8mb4 */;
/*!50001 SET character_set_results     = utf8mb4 */;
/*!50001 SET collation_connection      = utf8mb4_unicode_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`%` SQL SECURITY DEFINER */
/*!50001 VIEW `itinerary_monthly_count` AS select `c`.`year_created` AS `year_created`,`c`.`month_created` AS `month_created`,count(0) AS `records` from (select year(`itinerary`.`created_at`) AS `year_created`,month(`itinerary`.`created_at`) AS `month_created` from `itinerary`) `c` group by `c`.`year_created`,`c`.`month_created` */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;
/*!50001 DROP VIEW IF EXISTS `itinerary_weekly_count`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = utf8mb4 */;
/*!50001 SET character_set_results     = utf8mb4 */;
/*!50001 SET collation_connection      = utf8mb4_unicode_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`%` SQL SECURITY DEFINER */
/*!50001 VIEW `itinerary_weekly_count` AS select `c`.`year_created` AS `year_created`,`c`.`week_created` AS `week_created`,max(`c`.`created_at`) AS `any_date`,count(0) AS `records` from (select year(`itinerary`.`created_at`) AS `year_created`,month(`itinerary`.`created_at`) AS `month_created`,`itinerary`.`created_at` AS `created_at`,week(`itinerary`.`created_at`,0) AS `week_created` from `itinerary`) `c` group by `c`.`year_created`,`c`.`week_created` */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;
/*!50001 DROP VIEW IF EXISTS `view_latest_client_emails`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = utf8mb4 */;
/*!50001 SET character_set_results     = utf8mb4 */;
/*!50001 SET collation_connection      = utf8mb4_unicode_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`%` SQL SECURITY DEFINER */
/*!50001 VIEW `view_latest_client_emails` AS select `c`.`id` AS `id`,`c`.`email` AS `email`,`c`.`traveller_id` AS `itinerary_client_id`,`c`.`created_at` AS `created_at`,`c`.`updated_at` AS `updated_at` from `traveller_email` `c` where `c`.`id` in (select max(`ce`.`id`) AS `lastest_id` from `traveller_email` `ce` group by `ce`.`traveller_id`) */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

INSERT INTO `migrations` VALUES (297,'2022_01_26_015755_create_itinerary_concierges_table',1);
INSERT INTO `migrations` VALUES (298,'2022_01_26_015755_create_itinerary_cruises_table',1);
INSERT INTO `migrations` VALUES (299,'2022_01_26_015755_create_itinerary_flights_table',1);
INSERT INTO `migrations` VALUES (300,'2022_01_26_015755_create_itinerary_hotels_table',1);
INSERT INTO `migrations` VALUES (301,'2022_01_26_015755_create_itinerary_insurances_table',1);
INSERT INTO `migrations` VALUES (302,'2022_01_26_015755_create_itinerary_others_table',1);
INSERT INTO `migrations` VALUES (303,'2022_01_26_015755_create_itinerary_tours_table',1);
INSERT INTO `migrations` VALUES (304,'2022_01_26_015755_create_itinerary_transports_table',1);
INSERT INTO `migrations` VALUES (305,'2022_01_26_015757_add_foreign_keys_to_user_stripe_account_table',1);
INSERT INTO `migrations` VALUES (306,'2022_02_07_142651_create_advisor_request_type_table',2);
INSERT INTO `migrations` VALUES (307,'2022_02_07_142651_create_advisor_request_status_table',2);
INSERT INTO `migrations` VALUES (308,'2022_02_07_142651_create_advisor_request_table',2);
INSERT INTO `migrations` VALUES (309,'2022_02_07_142651_create_advisor_request_attachment_table',2);
INSERT INTO `migrations` VALUES (310,'2022_02_07_142651_create_advisor_assigned_copilot_table',2);
INSERT INTO `migrations` VALUES (311,'2022_02_07_142651_create_chat_content_type_table',2);
INSERT INTO `migrations` VALUES (312,'2022_02_07_142651_create_advisor_chat_table',2);
INSERT INTO `migrations` VALUES (313,'2022_02_07_142651_create_copilot_duties_table',2);
INSERT INTO `migrations` VALUES (314,'2022_02_07_142651_create_users_table',2);
INSERT INTO `migrations` VALUES (315,'2022_02_07_142651_create_copilot_info_table',2);
INSERT INTO `migrations` VALUES (316,'2022_02_07_142652_add_foreign_keys_to_advisor_request_table',2);
INSERT INTO `migrations` VALUES (317,'2022_02_07_142652_add_foreign_keys_to_advisor_request_attachment_table',2);
INSERT INTO `migrations` VALUES (318,'2022_02_07_142652_add_foreign_keys_to_advisor_assigned_copilot_table',2);
INSERT INTO `migrations` VALUES (319,'2022_02_07_142652_add_foreign_keys_to_advisor_chat_table',2);
INSERT INTO `migrations` VALUES (320,'2022_02_07_142652_add_foreign_keys_to_copilot_duties_table',2);
INSERT INTO `migrations` VALUES (321,'2022_02_07_142652_add_foreign_keys_to_users_table',2);
INSERT INTO `migrations` VALUES (322,'2022_02_07_142652_add_foreign_keys_to_copilot_info_table',2);
INSERT INTO `migrations` VALUES (325,'2022_02_10_154202_create_agency_usage_mode_table',3);
INSERT INTO `migrations` VALUES (326,'2022_02_10_154346_add_mode_to_users',3);
INSERT INTO `migrations` VALUES (328,'2022_02_10_215432_null_itinerary_on_advisor',4);
INSERT INTO `migrations` VALUES (330,'2022_02_10_220704_add_created_by_on_advisor',5);
INSERT INTO `migrations` VALUES (332,'2022_02_12_101146_copilot_per_request',6);
INSERT INTO `migrations` VALUES (333,'2022_02_15_162539_add_weakness_copilot_info',6);
INSERT INTO `migrations` VALUES (345,'2022_02_17_142039_create_stripe_payment_intent_table',7);
INSERT INTO `migrations` VALUES (346,'2022_02_17_142040_add_foreign_keys_to_stripe_payment_intent_table',7);
INSERT INTO `migrations` VALUES (347,'2022_02_17_143527_add_intent_to_advisor_request',7);
INSERT INTO `migrations` VALUES (348,'2022_02_17_144559_add_charge_id_to_advisor_request',7);
INSERT INTO `migrations` VALUES (349,'2022_03_23_012457_create_default_itinerary_theme_table',8);
INSERT INTO `migrations` VALUES (350,'2022_03_23_012458_add_foreign_keys_to_default_itinerary_theme_table',8);
INSERT INTO `migrations` VALUES (352,'2022_03_24_125159_remove_bedding_type_dependency_on_hotel_room',9);
INSERT INTO `migrations` VALUES (375,'2022_03_29_223043_create_itinerary_flight_segment_table',10);
INSERT INTO `migrations` VALUES (376,'2022_03_29_223044_add_foreign_keys_to_itinerary_flight_segment_table',10);
INSERT INTO `migrations` VALUES (377,'2022_03_29_223135_add_price_to_itinerary_flights',10);
INSERT INTO `migrations` VALUES (379,'2022_03_30_104155_remove_flight_details_on_itinerary_flight',11);
INSERT INTO `migrations` VALUES (380,'2022_04_13_215935_create_master_account_table',12);
INSERT INTO `migrations` VALUES (381,'2022_04_13_215935_create_master_sub_account_table',12);
INSERT INTO `migrations` VALUES (382,'2022_04_13_215936_add_foreign_keys_to_master_account_table',12);
INSERT INTO `migrations` VALUES (383,'2022_04_13_215936_add_foreign_keys_to_master_sub_account_table',12);
INSERT INTO `migrations` VALUES (384,'2022_04_20_201149_add_save_to_library_to_itinerary_others',13);
INSERT INTO `migrations` VALUES (385,'2022_04_20_201353_create_user_notes_table',14);
INSERT INTO `migrations` VALUES (386,'2022_04_20_201354_add_foreign_keys_to_user_notes_table',14);
INSERT INTO `migrations` VALUES (388,'2022_04_21_151707_improve_user_notes_to_look_exactly_same',15);
INSERT INTO `migrations` VALUES (389,'2022_04_21_163531_create_registration_access_codes_table',16);
INSERT INTO `migrations` VALUES (390,'2022_05_07_120352_add_stripe_refund_id_to_request',17);
INSERT INTO `migrations` VALUES (391,'2022_05_11_230712_modify_itinerary_flight',18);
INSERT INTO `migrations` VALUES (392,'2022_05_11_230919_modify_itinerary',18);
INSERT INTO `migrations` VALUES (393,'2022_05_14_100045_add_notified_to_advisor_chat',19);
INSERT INTO `migrations` VALUES (396,'2022_05_19_081832_make_price_nullable_on_tour',20);
INSERT INTO `migrations` VALUES (397,'2022_05_24_075937_create_saved_supplier_table',20);
INSERT INTO `migrations` VALUES (398,'2022_05_24_075938_add_foreign_keys_to_saved_supplier_table',20);
INSERT INTO `migrations` VALUES (399,'2022_05_25_222229_add_sorting_ranks_to_bookings',21);
INSERT INTO `migrations` VALUES (400,'2022_05_26_162916_remove_priority_from_notes',22);
INSERT INTO `migrations` VALUES (401,'2022_06_01_224805_create_itinerary_divider_table',23);
INSERT INTO `migrations` VALUES (402,'2022_06_01_224805_create_itinerary_header_table',23);
INSERT INTO `migrations` VALUES (403,'2022_06_01_224806_add_foreign_keys_to_itinerary_divider_table',23);
INSERT INTO `migrations` VALUES (404,'2022_06_01_224806_add_foreign_keys_to_itinerary_header_table',23);
INSERT INTO `migrations` VALUES (412,'2022_06_03_194156_create_ocr_status_table',24);
INSERT INTO `migrations` VALUES (413,'2022_06_03_194156_create_booking_ocr_table',24);
INSERT INTO `migrations` VALUES (414,'2022_06_03_194156_create_booking_ocr_import_table',24);
INSERT INTO `migrations` VALUES (415,'2022_06_03_194156_create_booking_ocr_recognition_log_table',24);
INSERT INTO `migrations` VALUES (416,'2022_06_03_194156_create_booking_ocr_importation_log_table',24);
INSERT INTO `migrations` VALUES (417,'2022_06_03_194157_add_foreign_keys_to_booking_ocr_table',24);
INSERT INTO `migrations` VALUES (418,'2022_06_03_194157_add_foreign_keys_to_booking_ocr_import_table',24);
INSERT INTO `migrations` VALUES (419,'2022_06_03_194157_add_foreign_keys_to_booking_ocr_recognition_log_table',24);
INSERT INTO `migrations` VALUES (420,'2022_06_03_194157_add_foreign_keys_to_booking_ocr_importation_log_table',24);
INSERT INTO `migrations` VALUES (421,'2022_06_03_195409_create_ocr_status_table',25);
INSERT INTO `migrations` VALUES (422,'2022_06_03_195409_create_booking_ocr_table',25);
INSERT INTO `migrations` VALUES (423,'2022_06_03_195409_create_booking_ocr_import_table',25);
INSERT INTO `migrations` VALUES (424,'2022_06_03_195409_create_booking_ocr_recognition_log_table',25);
INSERT INTO `migrations` VALUES (425,'2022_06_03_195409_create_booking_ocr_importation_log_table',25);
INSERT INTO `migrations` VALUES (426,'2022_06_03_195411_add_foreign_keys_to_booking_ocr_table',25);
INSERT INTO `migrations` VALUES (427,'2022_06_03_195411_add_foreign_keys_to_booking_ocr_import_table',25);
INSERT INTO `migrations` VALUES (428,'2022_06_03_195411_add_foreign_keys_to_booking_ocr_recognition_log_table',25);
INSERT INTO `migrations` VALUES (429,'2022_06_03_195411_add_foreign_keys_to_booking_ocr_importation_log_table',25);
INSERT INTO `migrations` VALUES (430,'2022_06_03_221444_create_ocr_status_table',26);
INSERT INTO `migrations` VALUES (431,'2022_06_03_221444_create_booking_ocr_table',26);
INSERT INTO `migrations` VALUES (432,'2022_06_03_221444_create_booking_ocr_import_table',26);
INSERT INTO `migrations` VALUES (433,'2022_06_03_221444_create_booking_ocr_recognition_log_table',26);
INSERT INTO `migrations` VALUES (434,'2022_06_03_221444_create_booking_ocr_importation_log_table',26);
INSERT INTO `migrations` VALUES (435,'2022_06_03_221445_add_foreign_keys_to_booking_ocr_table',26);
INSERT INTO `migrations` VALUES (436,'2022_06_03_221445_add_foreign_keys_to_booking_ocr_import_table',26);
INSERT INTO `migrations` VALUES (437,'2022_06_03_221445_add_foreign_keys_to_booking_ocr_recognition_log_table',26);
INSERT INTO `migrations` VALUES (438,'2022_06_03_221445_add_foreign_keys_to_booking_ocr_importation_log_table',26);
INSERT INTO `migrations` VALUES (439,'2022_06_03_222701_create_ocr_status_table',27);
INSERT INTO `migrations` VALUES (440,'2022_06_03_222701_create_booking_ocr_table',27);
INSERT INTO `migrations` VALUES (441,'2022_06_03_222701_create_booking_ocr_import_table',27);
INSERT INTO `migrations` VALUES (442,'2022_06_03_222701_create_booking_ocr_recognition_log_table',27);
INSERT INTO `migrations` VALUES (443,'2022_06_03_222701_create_booking_ocr_importation_log_table',27);
INSERT INTO `migrations` VALUES (444,'2022_06_03_222702_add_foreign_keys_to_booking_ocr_table',27);
INSERT INTO `migrations` VALUES (445,'2022_06_03_222702_add_foreign_keys_to_booking_ocr_import_table',27);
INSERT INTO `migrations` VALUES (446,'2022_06_03_222702_add_foreign_keys_to_booking_ocr_recognition_log_table',27);
INSERT INTO `migrations` VALUES (447,'2022_06_03_222702_add_foreign_keys_to_booking_ocr_importation_log_table',27);
INSERT INTO `migrations` VALUES (448,'2022_06_20_121916_create_service_suppliers_pictures_table',28);
INSERT INTO `migrations` VALUES (449,'2022_06_20_121917_add_foreign_keys_to_service_suppliers_pictures_table',28);
INSERT INTO `migrations` VALUES (450,'2022_06_21_150806_add_description_to_booking_suppliers',29);
INSERT INTO `migrations` VALUES (451,'2022_06_22_172749_add_saved_to_library_for_cruise_supplier',30);
INSERT INTO `migrations` VALUES (452,'2022_06_27_004616_add_name_to_itnerary_document',31);
INSERT INTO `migrations` VALUES (453,'2022_07_05_162051_create_jobs_table',32);
INSERT INTO `migrations` VALUES (454,'2022_07_05_162158_create_failed_jobs_table',32);
INSERT INTO `migrations` VALUES (455,'2022_07_05_162329_create_job_batches_table',32);
INSERT INTO `migrations` VALUES (456,'2022_07_06_123200_create_feedback_topic_table',33);
INSERT INTO `migrations` VALUES (457,'2022_07_06_123200_create_advisor_request_feedback_table',33);
INSERT INTO `migrations` VALUES (458,'2022_07_06_123201_add_foreign_keys_to_advisor_request_feedback_table',33);
INSERT INTO `migrations` VALUES (459,'2022_07_06_123219_create_advisor_request_feedback_rating_table',34);
INSERT INTO `migrations` VALUES (460,'2022_07_06_123220_add_foreign_keys_to_advisor_request_feedback_rating_table',34);
INSERT INTO `migrations` VALUES (461,'2022_07_07_004503_create_copilot_feedback_views',35);
INSERT INTO `migrations` VALUES (462,'2022_07_11_143014_create_itinerary_tasks_table',36);
INSERT INTO `migrations` VALUES (463,'2022_07_11_143015_add_foreign_keys_to_itinerary_tasks_table',36);
INSERT INTO `migrations` VALUES (464,'2022_07_12_072246_add_birthday_to_traveller',37);
INSERT INTO `migrations` VALUES (465,'2022_07_12_072634_create_traveller_document_table',38);
INSERT INTO `migrations` VALUES (466,'2022_07_12_072635_add_foreign_keys_to_traveller_document_table',38);
INSERT INTO `migrations` VALUES (468,'2022_07_13_123921_add_more_fields_for_traveller',39);
INSERT INTO `migrations` VALUES (469,'2022_07_14_123501_add_iata_to_segment',40);
INSERT INTO `migrations` VALUES (470,'2022_07_15_133921_make_ticket_number_nullable',41);
INSERT INTO `migrations` VALUES (472,'2022_07_16_172609_add_connect_ability_to_stripe_account',42);
INSERT INTO `migrations` VALUES (473,'2022_07_18_132948_modify_itinerary_tasks',43);
INSERT INTO `migrations` VALUES (474,'2022_07_19_101346_modify_advisor_request_type',44);
INSERT INTO `migrations` VALUES (475,'2022_07_19_101938_create_advisor_request_task_table',45);
INSERT INTO `migrations` VALUES (476,'2022_07_19_101938_create_advisor_request_payment_table',45);
INSERT INTO `migrations` VALUES (477,'2022_07_19_101940_add_foreign_keys_to_advisor_request_task_table',45);
INSERT INTO `migrations` VALUES (478,'2022_07_19_101940_add_foreign_keys_to_advisor_request_payment_table',45);
INSERT INTO `migrations` VALUES (479,'2022_07_19_102049_move_adivisor_request_params',46);
INSERT INTO `migrations` VALUES (480,'2022_07_19_110204_perfect_advisor_request_for_hire',47);
INSERT INTO `migrations` VALUES (481,'2022_07_20_055252_add_document_name_for_tasks',48);
INSERT INTO `migrations` VALUES (482,'2022_07_20_060627_create_advisor_request_activity_table',49);
INSERT INTO `migrations` VALUES (483,'2022_07_20_060628_add_foreign_keys_to_advisor_request_activity_table',49);
INSERT INTO `migrations` VALUES (484,'2022_07_22_103955_add_fees_to_requests',50);
INSERT INTO `migrations` VALUES (485,'2022_07_25_065533_add_more_info_to_users',51);
INSERT INTO `migrations` VALUES (486,'2022_07_25_070738_create_client_info_table',52);
INSERT INTO `migrations` VALUES (487,'2022_07_25_070739_add_foreign_keys_to_client_info_table',52);
INSERT INTO `migrations` VALUES (488,'2022_07_25_093422_create_cruise_cabin_table',53);
INSERT INTO `migrations` VALUES (489,'2022_07_25_093423_add_foreign_keys_to_cruise_cabin_table',53);
INSERT INTO `migrations` VALUES (490,'2022_07_26_114426_add_city_to_users',54);
INSERT INTO `migrations` VALUES (491,'2022_07_28_082554_adjust_advisor_request',55);
INSERT INTO `migrations` VALUES (492,'2022_07_29_064650_add_soft_delete_to_users',56);
INSERT INTO `migrations` VALUES (493,'2022_08_01_134641_add_bio_to_copilot_info',57);
